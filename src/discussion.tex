\section{Discussion}
This study hypothesized that within low-dimensional spaces during a working memory (WM) task in humans, hippocampal neurons form unique trajectories, particularly during sharp-wave ripple (SWR) periods. Initially, the multiunit spikes in medial temporal lobe (MTL) regions were projected onto three-dimensional spaces during a Sternberg task using Gaussian Process Factor Analysis (GPFA) (Figure~\ref{fig:01}D--E and Figure~\ref{fig:02}A). The distance of the trajectory across WM phases ($\mathrm{\lVert g_{F}g_{E} \rVert}$, $\mathrm{\lVert g_{F}g_{M} \rVert}$, $\mathrm{\lVert g_{F}g_{R} \rVert}$, $\mathrm{\lVert g_{E}g_{M} \rVert}$, $\mathrm{\lVert g_{E}g_{R} \rVert}$, and $\mathrm{\lVert g_{M}g_{R} \rVert}$) was notably larger in the hippocampus than in the EC and amygdala (Figure~\ref{fig:02}E), indicating dynamic neural activity in the hippocampus during the WM task. Further, in the hippocampus, the trajectory distance between the encoding and retrieval phases ($\mathrm{\lVert g_{F}g_{E} \rVert}$) exhibited a positive correlation with memory load (Figure~\ref{fig:03}C--D), reflecting WM processing. The hippocampal neural trajectory was found to increase transiently during SWRs (Figure~\ref{fig:05}). Finally, the hippocampal neural trajectory switched between encoding and retrieval states, moving from encoding to retrieval during SWR events (Figure~\ref{fig:07}). These findings not only explain various facets of hippocampal neural activity during a WM task in humans but also offer new insights into how SWRs influence the switch in neural states.

We found that the distance of the neural trajectory across the phases was greater in the hippocampus compared to that in the EC and amygdala, even when considering the distance from $O$ in these regions (Figure~\ref{fig:02}C--E). This supports the involvement of the hippocampus in the WM task, aligning with previous reports of hippocampal persistent firing during the maintenance phase \cite{boran_persistent_2019} \cite{kaminski_persistently_2017} \cite{kornblith_persistent_2017} \cite{faraut_dataset_2018}. However, when we applied GPFA to multiunit activity during a 1-second level resolution of the WM task, we observed that the neural trajectory in low-dimensional space showed a memory-load dependency between the encoding and retrieval phases, symbolized as $\mathrm{\lVert g_{E}g_{R} \rVert}$ (Figure~\ref{fig:03}). These findings corroborate the association of the hippocampus with WM processing.

Our analysis was confined to putative CA1 regions (Figure~\ref{fig:04}), which was bolstered by several factors. This specific focus stems from established observations that SWRs synchronize with spike bursts of interneurons and pyramidal neurons \cite{buzsaki_two-stage_1989} \cite{quyen_cell_2008} \cite{royer_control_2012} \cite{hajos_input-output_2013}, potentially within a 50 $\mu$m radius of the recording site \cite{schomburg_spiking_2012}. We further identified an increased incidence of SWRs during the first 0--400 ms of the retrieval phase (Figure~\ref{fig:04}D). This finding harmonizes with previous reports of heightened SWR occurrence preceding spontaneous verbal recall \cite{norman_hippocampal_2019} \cite{norman_hippocampal_2021}, supporting our results under a triggered retrieval condition. The observed log-normal distributions of both SWR duration and ripple band peak amplitude in this study (Figure~\ref{fig:04}C \& E) is in accordance with the consensus in this field \cite{liu_consensus_2022}. As a result, our decision to restrict recording sites to putative CA1 regions likely contributed to enhancing the accuracy of SWR detection. However, the increase in trajectory distance from $O$ during SWRs (Figure~\ref{fig:05}) might have been skewed towards higher values due to channel selection. However, this potential bias does not substantially challenge our primary findings.

Interestingly, during the retrieval phase, the trajectory directions oscillated between encoding and retrieval states during both baseline and SWR periods (Figure~\ref{fig:07}C \& D). Moreover, the balance of this oscillation shifted from encoding to retrieval state during SWR events (Figure~\ref{fig:07} E \& F). These results are consistent with previous reports on the role of SWR in memory retrieval \cite{norman_hippocampal_2019} \cite{norman_hippocampal_2021}. Our findings highlight a new understanding, suggesting that SWRs occur when the hippocampal representation transitions from encoding to retrieval states. Therefore, these results reveal novel aspects of hippocampal representations, including (i) neuronal oscillation between encoding and retrieval states during a WM task and (ii) SWR serving as a trigger for changing neural states.

Furthermore, our study uncovered WM-task type-specific differences between encoding- and retrieval-SWRs (Figure~\ref{fig:07}E--F). Notably, opposing movements of encoding-SWR (eSWR) and retrieval-SWR (rSWR) were not observed in the Match IN task but were apparent in the Mismatch OUT task. These observations can be explained by the memory engram theory \cite{liu_optogenetic_2012}. Particularly, the Match In task provided participants with previously presented letters, contrastingly, the Mismatch OUT task introduced a new letter not present in the encoding phase. These interpretations underscore the significant role of SWR in human cognitive processes.

In conclusion, the present investigation demonstrated that hippocampal activity oscillates between encoding and retrieval states during a WM task and uniquely transitions from encoding to retrieval during SWR incidents. These findings provide meaningful insight into the neural counterparts and functionality of working memory in the hippocampus.
\label{sec:discussion}
